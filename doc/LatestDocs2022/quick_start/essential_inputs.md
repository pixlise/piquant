---
id: essential_inputs
title: Essential Inputs
---

 An energy calibration relating the X-ray energy to the channels in the histogram is required before any processing can be performed on the spectrum. This calibration is usually included in the spectrum input file, but for PIXL data downlinked from the rover it will have to be added on the ground. Calculations of spectra from physical principles does not use an input spectrum, so the energy calibration must come from another source. The configuration file that gives the detailed description of the instrument for the physics model also has a place for energy calibration and this is used for calculation-only runs or if the input spectrum does not include a calibration. For test spectra or other uncalibrated spectra PIQUANT can find an energy calibration using two prominent peaks if given the elements that produced the peaks). For convenience in plotting and subsequent processing of the spectrum, an energy calibration found in this way is saved in the options field of the controller interface and used in any subsequent processing (until deleted or the interface terminates). **This energy calibration overrides any input from a file**. It can be removed by deleting it from the options text field. 

For unknown materials, a list of the elements to be quantified must be input using the element fit control list. Automated peak identification is not yet implemented (although it may be in the future but it is a hard problem and often unreliable). For standards, this list is not required because it comes from the given composition. The element fit control list also serves to control the fitting algorithm that fits the peaks in the spectrum. Specific emission lines (designated by atomic energy levels K, L, M, or N) can be identified for use in quantifying each element. Elements can be added that are fit in the spectrum but ignored for quantification (such as the Ar peak from an air path). Peaks from specific elements, such as spurious small peaks that may be present, can be removed from the fit if necessary to obtain a better fit. The syntax for the element fit control list is an element symbol (or an atomic number), optionally followed by an atomic energy level and/or a single-letter qualifier. The element symbol is followed by an underscore to separate the levels and qualifiers. Allowed atomic energy levels are K, L, M, and N. Qualifiers are I for include in the fit but ignore and X for exclude from the fit. A qualifier without an atomic energy level applies to all emission lines in the fit from that element.

Entries in the element fit control list can be separated by commas or blanks, or any combination. Tabs are treated as blanks.

The information in the element fit control list can also be input via the standards input file for automatic inclusion in the processing of each standard during calibration. The same letters are used with the same meanings although the format is different. 